<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="az.cybernet.internship.dictionary.repository.DictionaryRepository">
    <select id="getById" resultType="az.cybernet.internship.dictionary.model.DictionaryEntity" parameterType="java.util.UUID">
        SELECT * FROM dictionary WHERE id = #{id}
    </select>
    <insert id="insert" parameterType="az.cybernet.internship.dictionary.model.DictionaryEntity">
        INSERT INTO dictionary (id, category, value, description, is_active, deleted_at)
        VALUES (
        #{id},
        #{category},
        #{value},
        #{description},
        #{isActive},
        #{deletedAt}
        )
    </insert>

    <update id="update" parameterType="az.cybernet.internship.dictionary.model.DictionaryEntity">
        UPDATE dictionary
        SET
        category = #{category},
        value = #{value},
        description = #{description},
        is_active = #{isActive},
        deleted_at = #{deletedAt}
        WHERE id = #{id}
    </update>

    <update id="softDelete" parameterType="java.util.UUID">
        UPDATE dictionary
        SET
        is_active = FALSE,
        deleted_at = CURRENT_TIMESTAMP
        WHERE id = #{id}
    </update>

    <update id="restore" parameterType="java.util.UUID">
        UPDATE dictionary
        SET
        is_active = TRUE,
        deleted_at = NULL
        WHERE id = #{id}
    </update>

</mapper>
